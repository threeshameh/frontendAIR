<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AirVision â€” Air Quality Checker</title>
  <link rel="stylesheet" href="style.css" />
  <link href='https://cdn.boxicons.com/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <style>
    /* Minimal styling for demo */
    .metrics .metric strong {
      transition: color 0.2s;
    }
    .metric-bar-container {
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="logo"><img id="logo_img"src="thislogo.png">Airlytic</div>
      <nav class="nav">
        <a href="#">Home</a>
        <a href="#">About Us</a>
        <a href="#">Services</a>
        <a href="#">Blog</a>
        <a href="#">Contact Us</a>
      </nav>
      <div class="menu-icon">â˜°</div>
      <!--butngan ug navbar kay para if sa phone tan awon-->
    </div>
  </header>

  <div class="rectangle-container">
    <header class="input-header">
      <h1>Check Your Air Quality</h1>
      <p>Answer a few questions about your environment to get personalized air quality insights.</p>
    </header>

    <section class="live-analysis">

      <div class="score-container">
        <div class="score-info">
          <span class="emoji">ðŸ˜Š</span>
          <h3>Excellent Air Quality</h3>
          <p>Score: <strong class="score-value">83/100</strong></p>
          <p class="note">Perfect conditions for outdoor activities!</p>
        </div>

        <div class="metrics">
          <h2><i class='bxr bxs-chart-bar-columns' style='color:#0a1fde'></i> Live Analysis</h2>
          <div class="metric">Fine Particulate Matter: <strong class="val-pm25"></strong>
            <div class="metric-bar-container">
              <progress id="bar-pm25" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-pm25">0 Âµg/mÂ³</span></div>
            </div>
          </div>

          <div class="metric">Coarse Particulate Matter: <strong class="val-pm10"></strong>
            <div class="metric-bar-container">
              <progress id="bar-pm10" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-pm10">0 Âµg/mÂ³</span></div>
            </div>
          </div>

          <div class="metric">Nitrogen Oxides / Dioxide: <strong class="val-nox">21 ppb</strong>
            <div class="metric-bar-container">
              <progress id="bar-nox" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-nox">0 ppb</span></div>
            </div>
          </div>

          <div class="metric">Sulfur Dioxide: <strong class="val-so2">10 ppb</strong>
            <div class="metric-bar-container">
              <progress id="bar-so2" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-so2">0 ppb</span></div>
            </div>
          </div>

          <div class="metric">Volatile Organic Compounds: <strong class="val-voc">50 Âµg/mÂ³</strong>
            <div class="metric-bar-container">
              <progress id="bar-voc" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-voc">0 Âµg/mÂ³</span></div>
            </div>
          </div>

          <div class="metric">Carbon Monoxide: <strong class="val-co">1 ppm</strong>
            <div class="metric-bar-container">
              <progress id="bar-co" value="0" max="100"></progress>
              <div class="metric-bar-label"><span id="text-co">0 ppm</span></div>
            </div>
          </div>

        </div>
      </div>
    </section>
  </div>

  <!-- Input Form -->
  <div class="input-card">
    <h1>ðŸŒ¿ Environmental Assessment</h1>
    <p>Adjust the sliders to describe your surroundings and assess your air quality.</p>

    <div id="form-area"></div>

    <button id="check-btn">Analyze My Air Quality</button>

    <div id="result"></div>

    <div id="tips" class="tips-box" style="display:none;">
      <h3>Quick Tips</h3>
      <ul id="tips-list"></ul>
      <h3>Health Protection</h3>
      <ul>
        <li>Use filters to reduce exposure during high pollution.</li>
        <li>Use indoor purifiers to limit pollutants.</li>
        <li>Close windows and doors to reduce air pollutants.</li>
        <li>Avoid outdoor activities when air quality is poor.</li>
      </ul>
    </div>
  </div>

  <script>
    const pollutants = [
      { id: 'pm25', question: 'Is the air around you hazy or clear?', technical: 'Fine Particulate Matter (PM2.5)', value: 15, unit: 'Âµg/mÂ³', maxValue: 100 },
      { id: 'pm10', question: 'Do you notice a lot of dust outside?', technical: 'Coarse Particulate Matter (PM10)', value: 25, unit: 'Âµg/mÂ³', maxValue: 150 },
      { id: 'nox', question: 'Are there many vehicles or factories nearby?', technical: 'Nitrogen Oxides (NOx)', value: 21, unit: 'ppb', maxValue: 100 },
      { id: 'so2', question: 'Do you smell something like burning or matches?', technical: 'Sulfur Dioxide', value: 10, unit: 'ppb', maxValue: 75 },
      { id: 'voc', question: 'Do you use a lot of cleaning sprays, paints, or air fresheners?', technical: 'Volatile Organic Compounds (VOCs)', value: 50, unit: 'Âµg/mÂ³', maxValue: 200 },
      { id: 'co', question: 'Are you near traffic or enclosed garages?', technical: 'Carbon Monoxide', value: 1, unit: 'ppm', maxValue: 10 }
    ];

    function getEmoji(percent) {
      if (percent < 0.33) return 'ðŸ˜Š';
      else if (percent < 0.66) return 'ðŸ™‚';
      else return 'ðŸ˜·';
    }

    function renderForm() {
      const container = document.getElementById('form-area');
      container.innerHTML = '';

      pollutants.forEach(p => {
        const div = document.createElement('div');
        div.className = 'pollutant';

        const header = document.createElement('div');
        header.className = 'pollutant-header';

        const info = document.createElement('div');
        info.className = 'info';
        info.innerHTML = `<strong>${p.question}</strong><br><small>${p.technical}</small>`;

        const spanValue = document.createElement('span');
        spanValue.id = `val-${p.id}`;
        spanValue.innerText = '';  // blank


        const emojiSpan = document.createElement('span');
        emojiSpan.id = `emoji-${p.id}`;
        emojiSpan.className = 'emoji';
        emojiSpan.innerText = getEmoji(p.value / p.maxValue);

        header.appendChild(info);
        header.appendChild(spanValue);
        header.appendChild(emojiSpan);

        const inputRange = document.createElement('input');
        inputRange.type = 'range';
        inputRange.id = `input-${p.id}`;
        inputRange.min = 0;
        inputRange.max = p.maxValue;
        inputRange.step = 1;
        inputRange.value = p.value;

        inputRange.oninput = (e) => {
          const v = Number(e.target.value);
          p.value = v;
          document.getElementById(`val-${p.id}`).innerText = '';  // blank
          document.getElementById(`emoji-${p.id}`).innerText = getEmoji(v / p.maxValue);

          updateLiveAnalysis();
          barLiveAnalysis();
        };

        div.appendChild(header);
        div.appendChild(inputRange);
        container.appendChild(div);
      });

      // initial update
      updateLiveAnalysis();
      barLiveAnalysis();
    }

    function updateLiveAnalysis() {
      pollutants.forEach(p => {
        const elem = document.querySelector(`.val-${p.id}`);
        if (elem) elem.innerText = `${p.value} ${p.unit}`;
      });

      let totalPercent = 0;
      pollutants.forEach(p => totalPercent += (p.value / p.maxValue));
      const avgPercent = totalPercent / pollutants.length;
      const score = Math.round((1 - avgPercent) * 100);

      const scoreElem = document.querySelector('.score-value');
      if (scoreElem) scoreElem.innerText = `${score}/100`;

      const emojiElem = document.querySelector('.score-info .emoji');
      const h3Elem = document.querySelector('.score-info h3');

      const percent = score / 100;
      if (percent > 0.8) {
        if (h3Elem) h3Elem.innerText = "Excellent Air Quality";
        if (emojiElem) emojiElem.innerText = "ðŸ˜Š";
      } else if (percent > 0.5) {
        if (h3Elem) h3Elem.innerText = "Good Air Quality";
        if (emojiElem) emojiElem.innerText = "ðŸ™‚";
      } else if (percent > 0.3) {
        if (h3Elem) h3Elem.innerText = "Moderate Air Quality";
        if (emojiElem) emojiElem.innerText = "ðŸ˜";
      } else {
        if (h3Elem) h3Elem.innerText = "Poor Air Quality";
        if (emojiElem) emojiElem.innerText = "ðŸ˜·";
      }
    }

   function barLiveAnalysis() {
  pollutants.forEach(p => {
    const bar = document.getElementById(`bar-${p.id}`);
    const label = document.getElementById(`text-${p.id}`);
    if (bar && label) {
      const percent = (p.value / p.maxValue) * 100;
      bar.value = percent;
     label.innerText = '';  // blank
  // no unit here
    }
  });
}


    document.getElementById('check-btn').onclick = () => {
      const sum = pollutants.reduce((acc, p) => acc + p.value, 0);
      let label, tips;
      if (sum < 150) {
        label = 'Good ðŸŒ±';
        tips = ['Low emissions from indoor activities and exercise.'];
      } else if (sum < 300) {
        label = 'Moderate ðŸŒ¤ï¸';
        tips = ['Sensitive individuals should be cautious.'];
      } else {
        label = 'Poor ðŸ”¥';
        tips = ['Limit outdoor exposure.'];
      }

      document.getElementById('result').innerText = `Total Score: ${sum} â†’ Air Quality: ${label}`;
      const tipsList = document.getElementById('tips-list');
      tipsList.innerHTML = '';
      tips.forEach(t => {
        const li = document.createElement('li');
        li.innerText = t;
        tipsList.appendChild(li);
      });
      document.getElementById('tips').style.display = 'block';
    };

    // initial render
    renderForm();
  </script>
</body>
</html>
